# 网络层作业

> 简述网络层的主要功能。

网络层的主要功能是：路由选择，拥塞控制与网络互连。

> 阐述静态路由算法中最短路径算法，自适应路由算法中的距离矢量算法及链路状态算法，拓扑相关路由算法中的逆向路径传送算法，Ad-hoc中的AODV按需路由算法。

1. 最短路径算法：

   实际上就是 `Dijkstra` 算法：通过边的权值作为距离的度量来计算最短路径。

2. 自适应路由算法：

   路由器动态建立和维护一张最优的路由表。

   1. 距离矢量算法
      
      
      $$
   d_{ij}=min(d_{ix}+d_{xj})
      $$
      
      $$
   S_{ij}=x
      $$
      
      
      
   2. 链路状态算法

      - 发现邻接节点，得到网络地址。
      - 测量到邻接节点的延迟或开销
      - 组装一个分组以告知 这个新上线的路由器 刚刚知道的所有信息
      - 将这个分组发给所有其他的路由器
      - 计算每个其他路由器的最短路径

3. 拓扑相关路由 - 逆向路径传送算法：

   当某一个广播分组到达路由器时，路由器对这个分组进行检查。如果这个分组来自通常向广播源发送分组的线路，则将该分组转发到除进线以外的其他线路，否则丢弃。

4. Ad-hoc - AODV按需路由算法：

   只有在需要发送数据时，源站点才寻找路由。

   源节点想发送信息给某个目的节点时，如果没有路径，则启动 Path Discovery 过程，广播一个 Route Request 路径请求分组给相邻节点，收到此请求分组的邻节点再转发给它的相邻节点并建立到源节点的反向路径，直到一个知道目的节点路由信息的中间节点或者目的节点本身，然后回复 Route Reply路径应答包给源节点。

> 简述拥塞控制的原理及一般方法。

拥塞控制的原理：

- 开环控制：与当前网络的状态无关，通过提前的良好设计来避免问题的出现。
- 闭环控制：建立反馈的基础上来进行实时调整。

一般方法：

- 预防
- 虚电路子网中的拥塞控制：准入控制 / 绕过拥塞
- 数据报子网的拥塞控制：警告位 / 抑制分组 / 阻塞包
- 载荷脱落
- 抖动控制

> 阐述服务质量控制中的漏桶算法及令牌桶算法。

漏桶算法：平滑输入流量，实现控制进入网络的流量。

- 就像一个漏桶，输出流量就像是漏出去一样。
- 输出流量是均衡的

令牌桶：大的突发流量到来的时候，输出也能有适当的相应。

- 使用令牌桶来标记突发流量
- 让下游输出提前准备，应对洪峰。

> 简述IP地址的表示和分类，子网掩码的主要功能。

表示：NetID+HostID

分类：ABCDE

子网掩码的主要功能：因为子网地址长度不是固定的，所以必须说明设备地址中的哪一部分是包含子网的网络地址段，地址中哪一部分是主机地址段 

> 简述IPv4和IPv6的主要特点。

IPv4 和 IPv6 字面上最直白的差异就是数字的差异，实际上反应的是版本的差异。

IPv4的主要特点：32位地址空间，简短

IPv6的主要特点：使用了128位的地址空间

